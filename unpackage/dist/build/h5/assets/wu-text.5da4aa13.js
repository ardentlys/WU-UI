var e,t,n,s;import{m as i,k as o,o as l,c as a,w as r,b as u,t as d,y as p,q as c,i as f,P as h,r as y,p as m,u as g,a as w,d as S,G as x}from"./index-11e68488.js";import{_ as $}from"./wu-icon.d51d82ec.js";import{r as _}from"./uni-app.es.0596e349.js";import{_ as k}from"./_plugin-vue_export-helper.1b428a4d.js";const b=k({name:"wu-link",mixins:[i,o,{props:{color:{type:String,default:"#3c9cff"},fontSize:{type:[String,Number],default:15},underLine:{type:Boolean,default:!1},href:{type:String,default:""},mpTips:{type:String,default:"链接已复制，请在浏览器打开"},lineColor:{type:String,default:""},text:{type:String,default:""},...null==(t=null==(e=uni.$w)?void 0:e.props)?void 0:t.link}}],computed:{linkStyle(){const e={color:this.color,fontSize:this.$w.addUnit(this.fontSize),lineHeight:this.$w.addUnit(this.$w.getPx(this.fontSize)+2),textDecoration:this.underLine?"underline":""};return this.underLine&&(e.textDecorationColor=this.lineColor||this.color),e}},methods:{openLink(){window.open(this.href),this.$emit("click")}}},[["render",function(e,t,n,s,i,o){const h=f;return l(),a(h,{class:"wu-link",onClick:p(o.openLink,["stop"]),style:c([o.linkStyle,e.$w.addStyle(e.customStyle)]),nodes:e.text},{default:r(()=>[u(d(e.text),1)]),_:1},8,["onClick","style","nodes"])}],["__scopeId","data-v-e33dd3bd"]]);const v=k({name:"wu-text",mixins:[i,o,{computed:{value(){const{text:e,mode:t,format:n,href:s}=this;return"price"===t?(/^\d+(\.\d+)?$/.test(e)||this.$w.error("金额模式下，text参数需要为金额格式"),this.$w.test.func(n)?n(e):this.$w.priceFormat(e,2)):"date"===t?(!this.$w.test.date(e)&&this.$w.error("日期模式下，text参数需要为日期或时间戳格式"),this.$w.test.func(n)?n(e):n?this.$w.timeFormat(e,n):this.$w.timeFormat(e,"yyyy-mm-dd")):"phone"===t?this.$w.test.func(n)?n(e):"encrypt"===n?`${e.substr(0,3)}****${e.substr(7)}`:e:"name"===t?("string"!=typeof e&&this.$w.error("姓名模式下，text参数需要为字符串格式"),this.$w.test.func(n)?n(e):"encrypt"===n?this.formatName(e):e):"link"===t?(!this.$w.test.url(s)&&this.$w.error("超链接模式下，href参数需要为URL格式"),e):e}},methods:{formatName(e){let t="";if(2===e.length)t=e.substr(0,1)+"*";else if(e.length>2){let n="";for(let t=0,s=e.length-2;t<s;t++)n+="*";t=e.substr(0,1)+n+e.substr(-1,1)}else t=e;return t}}},{props:{type:{type:String,default:""},show:{type:Boolean,default:!0},text:{type:[String,Number],default:""},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},mode:{type:String,default:""},href:{type:String,default:""},format:{type:[String,Function],default:""},call:{type:Boolean,default:!1},openType:{type:String,default:""},bold:{type:Boolean,default:!1},block:{type:Boolean,default:!1},lines:{type:[String,Number],default:""},color:{type:String,default:"#303133"},size:{type:[String,Number],default:15},iconStyle:{type:[Object,String],default:"15px"},decoration:{type:String,default:"none"},margin:{type:[Object,String,Number],default:""},lineHeight:{type:[String,Number],default:""},align:{type:String,default:"left"},wordWrap:{type:String,default:"normal"},...null==(s=null==(n=uni.$w)?void 0:n.props)?void 0:s.text}}],computed:{valueStyle(){const e={textDecoration:this.decoration,fontWeight:this.bold?"bold":"normal",wordWrap:this.wordWrap,fontSize:this.$w.addUnit(this.size)};return!this.type&&(e.color=this.color),this.isNvue&&this.lines&&(e.lines=this.lines),this.lineHeight&&(e.lineHeight=uni.$u.addUnit(this.lineHeight)),!this.isNvue&&this.block&&(e.display="block"),this.$w.deepMerge(e,this.$w.addStyle(this.customStyle))},isNvue:()=>!1,isMp:()=>!1},data:()=>({}),methods:{clickHandler(){this.call&&"phone"===this.mode&&h({phoneNumber:this.text}),this.$emit("click")}}},[["render",function(e,t,n,s,i,o){const p=f,h=_(y("wu-icon"),$),k=S,v=_(y("wu-link"),b),N=x;return e.show?(l(),a(k,{key:0,class:m(["wu-text",[]]),style:c({margin:e.margin,justifyContent:"left"===e.align?"flex-start":"center"===e.align?"center":"flex-end"}),onClick:o.clickHandler},{default:r(()=>["price"===e.mode?(l(),a(p,{key:0,class:m(["wu-text__price",e.type&&"wu-text__value--"+e.type]),style:c([o.valueStyle])},{default:r(()=>[u("￥")]),_:1},8,["class","style"])):g("",!0),e.prefixIcon?(l(),a(k,{key:1,class:"wu-text__prefix-icon"},{default:r(()=>[w(h,{name:e.prefixIcon,customStyle:e.$w.addStyle(e.iconStyle)},null,8,["name","customStyle"])]),_:1})):g("",!0),"link"===e.mode?(l(),a(v,{key:2,text:e.value,href:e.href,underLine:""},null,8,["text","href"])):e.openType&&o.isMp?(l(),a(N,{key:3,class:"wu-reset-button wu-text__value",style:c([o.valueStyle]),"data-index":e.index,openType:e.openType,onGetuserinfo:e.onGetUserInfo,onContact:e.onContact,onGetphonenumber:e.onGetPhoneNumber,onError:e.onError,onLaunchapp:e.onLaunchApp,onOpensetting:e.onOpenSetting,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter},{default:r(()=>[u(d(e.value),1)]),_:1},8,["style","data-index","openType","onGetuserinfo","onContact","onGetphonenumber","onError","onLaunchapp","onOpensetting","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter"])):(l(),a(p,{key:4,class:m(["wu-text__value",[e.type&&"wu-text__value--"+e.type,e.lines&&"wu-line-"+e.lines]]),style:c([o.valueStyle])},{default:r(()=>[u(d(e.value),1)]),_:1},8,["style","class"])),e.suffixIcon?(l(),a(k,{key:5,class:"wu-text__suffix-icon"},{default:r(()=>[w(h,{name:e.suffixIcon,customStyle:e.$w.addStyle(e.iconStyle)},null,8,["name","customStyle"])]),_:1})):g("",!0)]),_:1},8,["style","onClick"])):g("",!0)}],["__scopeId","data-v-b0342007"]]);export{v as _};
