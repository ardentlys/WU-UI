var e,t;import{m as o,k as l,r as a,o as n,c as s,w as r,a as u,l as i,u as d,q as c,p,d as f,J as h,H as m,I as _,b as g,i as b}from"./index-11e68488.js";import{_ as y}from"./wu-icon.d51d82ec.js";import{r as w}from"./uni-app.es.0596e349.js";import{_ as x}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as k}from"./wu-text.5da4aa13.js";import{_ as S}from"./wu-code.d2545b0f.js";import{_ as C}from"./wu-button.45ce3428.js";import{_ as I}from"./wu-gap.64a1323a.js";import"./wu-loading-icon.f2e2e6ea.js";const $=x({name:"wu-input",mixins:[o,l,{props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},fixed:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledColor:{type:String,default:"#f5f7fa"},clearable:{type:Boolean,default:!1},password:{type:Boolean,default:!1},maxlength:{type:[String,Number],default:-1},placeholder:{type:String,default:""},placeholderClass:{type:String,default:"input-placeholder"},placeholderStyle:{type:[String,Object],default:"color: #c0c4cc;"},showWordLimit:{type:Boolean,default:!1},confirmType:{type:String,default:"done"},confirmHold:{type:Boolean,default:!1},holdKeyboard:{type:Boolean,default:!1},focus:{type:Boolean,default:!1},autoBlur:{type:Boolean,default:!1},disableDefaultPadding:{type:Boolean,default:!1},cursor:{type:[String,Number],default:-1},cursorSpacing:{type:[String,Number],default:30},selectionStart:{type:[String,Number],default:-1},selectionEnd:{type:[String,Number],default:-1},adjustPosition:{type:Boolean,default:!0},inputAlign:{type:String,default:"left"},fontSize:{type:[String,Number],default:"15px"},color:{type:String,default:"#303133"},prefixIcon:{type:String,default:""},prefixIconStyle:{type:[String,Object],default:""},suffixIcon:{type:String,default:""},suffixIconStyle:{type:[String,Object],default:""},border:{type:String,default:"surround"},readonly:{type:Boolean,default:!1},shape:{type:String,default:"square"},formatter:{type:[Function,null],default:null},ignoreCompositionEvent:{type:Boolean,default:!0},customStyle:{type:Object,default:()=>({})},...null==(t=null==(e=uni.$w)?void 0:e.props)?void 0:t.input}}],data:()=>({innerValue:"",focused:!1,firstChange:!0,changeFromInner:!1,innerFormatter:e=>e}),watch:{modelValue:{immediate:!0,handler(e,t){this.propsValueChange(e)}}},computed:{isShowClear(){const{clearable:e,readonly:t,focused:o,innerValue:l}=this;return!!e&&!t&&!!o&&""!==l},inputClass(){let e=[],{border:t,disabled:o,shape:l}=this;return"surround"===t&&(e=e.concat(["wu-border","wu-input--radius"])),e.push("wu-input--"+l),"bottom"===t&&(e=e.concat(["wu-border-bottom","wu-input--no-radius"])),e.join(" ")},wrapperStyle(){const e={};return this.disabled&&(e.backgroundColor=this.disabledColor),"none"===this.border?e.padding="0":(e.paddingTop="6px",e.paddingBottom="6px",e.paddingLeft="9px",e.paddingRight="9px"),this.$w.deepMerge(e,this.$w.addStyle(this.customStyle))},inputStyle(){const e={color:this.color,fontSize:this.$w.addUnit(this.fontSize),textAlign:this.inputAlign};return this.disabled&&(e.backgroundColor=this.disabledColor),e}},methods:{propsValueChange(e){this.innerValue=e,!1===this.firstChange&&!1===this.changeFromInner&&this.valueChange(),this.firstChange=!1,this.changeFromInner=!1},setFormatter(e){this.innerFormatter=e},onInput(e){let{value:t=""}=e.detail||{};const o=(this.formatter||this.innerFormatter)(t);this.innerValue=t,this.$nextTick(()=>{this.innerValue=o,this.valueChange()})},onBlur(e){this.$emit("blur",e.detail.value),this.$w.sleep(50).then(()=>{this.focused=!1}),this.$w.formValidate(this,"blur")},onFocus(e){this.focused=!0,this.$emit("focus")},onConfirm(e){this.$emit("confirm",this.innerValue)},onkeyboardheightchange(){this.$emit("keyboardheightchange")},valueChange(){const e=this.innerValue;this.$nextTick(()=>{this.$emit("update:modelValue",e),this.changeFromInner=!0,this.$emit("change",e),this.$w.formValidate(this,"change")})},onClear(){this.innerValue="",this.$nextTick(()=>{this.valueChange(),this.$emit("clear")})},clickHandler(){}}},[["render",function(e,t,o,l,m,_){const g=w(a("wu-icon"),y),b=f,x=h;return n(),s(b,{class:p(["wu-input",_.inputClass]),style:c([_.wrapperStyle])},{default:r(()=>[u(b,{class:"wu-input__content"},{default:r(()=>[u(b,{class:"wu-input__content__prefix-icon"},{default:r(()=>[i(e.$slots,"prefix",{},()=>[e.prefixIcon?(n(),s(g,{key:0,name:e.prefixIcon,size:"18",customStyle:e.prefixIconStyle},null,8,["name","customStyle"])):d("",!0)],!0)]),_:3}),u(b,{class:"wu-input__content__field-wrapper",onClick:_.clickHandler},{default:r(()=>[u(x,{class:"wu-input__content__field-wrapper__field",style:c([_.inputStyle]),type:e.type,focus:e.focus,cursor:e.cursor,value:m.innerValue,"auto-blur":e.autoBlur,disabled:e.disabled||e.readonly,maxlength:e.maxlength,placeholder:e.placeholder,"placeholder-style":e.placeholderStyle,"placeholder-class":e.placeholderClass,"confirm-type":e.confirmType,"confirm-hold":e.confirmHold,"hold-keyboard":e.holdKeyboard,"cursor-spacing":e.cursorSpacing,"adjust-position":e.adjustPosition,"selection-end":e.selectionEnd,"selection-start":e.selectionStart,password:e.password||"password"===e.type||void 0,ignoreCompositionEvent:e.ignoreCompositionEvent,onInput:_.onInput,onBlur:_.onBlur,onFocus:_.onFocus,onConfirm:_.onConfirm,onKeyboardheightchange:_.onkeyboardheightchange},null,8,["style","type","focus","cursor","value","auto-blur","disabled","maxlength","placeholder","placeholder-style","placeholder-class","confirm-type","confirm-hold","hold-keyboard","cursor-spacing","adjust-position","selection-end","selection-start","password","ignoreCompositionEvent","onInput","onBlur","onFocus","onConfirm","onKeyboardheightchange"])]),_:1},8,["onClick"]),_.isShowClear?(n(),s(b,{key:0,class:"wu-input__content__clear",onClick:_.onClear},{default:r(()=>[u(g,{name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"})]),_:1},8,["onClick"])):d("",!0),u(b,{class:"wu-input__content__subfix-icon"},{default:r(()=>[i(e.$slots,"suffix",{},()=>[e.suffixIcon?(n(),s(g,{key:0,name:e.suffixIcon,size:"18",customStyle:e.suffixIconStyle},null,8,["name","customStyle"])):d("",!0)],!0)]),_:3})]),_:3})]),_:3},8,["class","style"])}],["__scopeId","data-v-67dbfa0f"]]);const v=x({data:()=>({tips:"",seconds:10,text1:""}),watch:{value(e,t){}},methods:{codeChange(e){this.tips=e},getCode(){this.$refs.wuCode.canGetCode?(m({title:"正在获取验证码"}),setTimeout(()=>{_(),uni.$w.toast("验证码已发送"),this.$refs.wuCode.start()},2e3)):uni.$w.toast("倒计时结束后再发送")},change(e){console.log("change",e)}}},[["render",function(e,t,o,l,i,d){const c=b,p=w(a("wu-input"),$),h=f,m=w(a("wu-text"),k),_=w(a("wu-code"),S),y=w(a("wu-button"),C),x=w(a("wu-gap"),I);return n(),s(h,{class:"wu-page"},{default:r(()=>[u(h,{class:"wu-demo-block"},{default:r(()=>[u(c,{class:"wu-demo-block__title"},{default:r(()=>[g("基础使用")]),_:1}),u(h,{class:"wu-demo-block__content"},{default:r(()=>[u(p,{modelValue:i.text1,"onUpdate:modelValue":t[0]||(t[0]=e=>i.text1=e),placeholder:"请输入内容",border:"surround",onChange:d.change},null,8,["modelValue","onChange"])]),_:1})]),_:1}),u(h,{class:"wu-demo-block"},{default:r(()=>[u(c,{class:"wu-demo-block__title"},{default:r(()=>[g("可清空内容")]),_:1}),u(h,{class:"wu-demo-block__content"},{default:r(()=>[u(p,{placeholder:"请输入内容",border:"surround",clearable:""})]),_:1})]),_:1}),u(h,{class:"wu-demo-block"},{default:r(()=>[u(c,{class:"wu-demo-block__title"},{default:r(()=>[g("数字键盘")]),_:1}),u(h,{class:"wu-demo-block__content"},{default:r(()=>[u(p,{placeholder:"请输入内容",border:"surround",type:"number",clearable:""})]),_:1})]),_:1}),u(h,{class:"wu-demo-block"},{default:r(()=>[u(c,{class:"wu-demo-block__title"},{default:r(()=>[g("密码类型")]),_:1}),u(h,{class:"wu-demo-block__content"},{default:r(()=>[u(p,{placeholder:"请输入内容",border:"surround",password:"",clearable:""})]),_:1})]),_:1}),u(h,{class:"wu-demo-block"},{default:r(()=>[u(c,{class:"wu-demo-block__title"},{default:r(()=>[g("显示下划线")]),_:1}),u(h,{class:"wu-demo-block__content"},{default:r(()=>[u(p,{shape:"circle",placeholder:"请输入内容",border:"surround",clearable:""})]),_:1})]),_:1}),u(h,{class:"wu-demo-block"},{default:r(()=>[u(c,{class:"wu-demo-block__title"},{default:r(()=>[g("禁用状态")]),_:1}),u(h,{class:"wu-demo-block__content"},{default:r(()=>[u(p,{placeholder:"禁用状态",border:"surround",disabled:""})]),_:1})]),_:1}),u(h,{class:"wu-demo-block"},{default:r(()=>[u(c,{class:"wu-demo-block__title"},{default:r(()=>[g("圆形")]),_:1}),u(h,{class:"wu-demo-block__content"},{default:r(()=>[u(p,{placeholder:"请输入内容",border:"surround",shape:"circle"})]),_:1})]),_:1}),u(h,{class:"wu-demo-block"},{default:r(()=>[u(c,{class:"wu-demo-block__title"},{default:r(()=>[g("前后图标")]),_:1}),u(h,{class:"wu-demo-block__content"},{default:r(()=>[u(p,{placeholder:"前置图标",prefixIcon:"search",prefixIconStyle:"font-size: 22px;color: #909399"})]),_:1}),u(h,{class:"wu-demo-block__content",style:{"margin-top":"15px"}},{default:r(()=>[u(p,{placeholder:"后置图标",suffixIcon:"map-fill",suffixIconStyle:"color: #909399"})]),_:1})]),_:1}),u(h,{class:"wu-demo-block"},{default:r(()=>[u(c,{class:"wu-demo-block__title"},{default:r(()=>[g("前后插槽")]),_:1}),u(h,{class:"wu-demo-block__content"},{default:r(()=>[u(p,{placeholder:"前置插槽"},{prefix:r(()=>[u(m,{text:"http://",margin:"0 3px 0 0",type:"tips"})]),_:1})]),_:1}),u(h,{class:"wu-demo-block__content",style:{"margin-top":"15px"}},{default:r(()=>[u(p,{placeholder:"后置插槽"},{suffix:r(()=>[u(_,{ref:"wuCode",onChange:d.codeChange,seconds:"20",changeText:"X秒重新获取哈哈哈"},null,8,["onChange"]),u(y,{onClick:d.getCode,text:i.tips,type:"success",size:"mini"},null,8,["onClick","text"])]),_:1})]),_:1})]),_:1}),u(x,{bgColor:"#fff",height:"50"})]),_:1})}],["__scopeId","data-v-9973872f"]]);export{v as default};
